
---

## ๐งช ุชุญููู ุฃุฎุทุงุก ุงููููุณูู ุงูุฃุฎูุฑุฉ (SSR/CSR)

### 1) Theme initialization error: TypeError: can't access property "classList", document.body is null
- **ุงููุนูู**: ุงูููุฏ ุญุงูู ุงููุตูู ุฅูู `document.body.classList` ูุจู ุฃู ุชููู ุนูุฏุฉ ุงูู body ููุฌูุฏุฉ (ูู ุณูุงู SSR/Next.js ุฃุซูุงุก ุงูุชุญููู ุงููุจูุฑ ุฃู ูุจู hydration).
- **ุฃูุงูู ุงููุตูู ุงููุจุงุดุฑ ุฅูู DOM**:
```72:90:src/contexts/ThemeContext.tsx
  useEffect(() => {
    const html = document.documentElement
    const body = document.body
    ...
    body.classList.add('dark')
    body.style.backgroundColor = '#111827'
``` 
```14:49:src/app/layout.tsx
<head>
  <script dangerouslySetInnerHTML={{ __html: `
    ...
    document.documentElement.classList.add('dark');
    document.body.classList.add('dark');
    document.body.style.backgroundColor = '#111827';
`}} />
```
- **ุณุจุจ ุงูุฎุทุฃ ุงููุญุชูู**:
  - ุฅุฏุฑุงุฌ ุณูุฑูุจุช ุฏุงุฎู `<head>` ูุนุฏูู `document.body` ูุจู ุฃู ุชููุดุฆู ุงููุชุตูุญ (ุจุนุถ ุงูุจูุฆุงุช ูุฏ ุชูููุฐ ุงูุณูุฑูุจุช ูุจู ุจูุงุก body).
  - ุนูููุงุช ุชุบููุฑ `document` ููุฌูุฏุฉ ุฃูุถุงู ูู `ThemeContext`ุ ููุฏ ุชุชุณุงุจู ูุน ุงูู hydration.
- **ุฃุซุฑ ุฐูู**: ูุธูุฑ ุงูุงุณุชุซูุงุก ูุจูุฑุงู ูููุณุฑ ุชุณูุณู ุงูุชููุฆุฉ ููุคุฏู ุฅูู ุฃุฎุทุงุก ูุงุญูุฉ ูู ุงูุชูุงูู ุจูู SSR/CSR.

### 2) A tree hydrated but some attributes of the server rendered HTML didn't match the client properties (Hydration mismatch)
- **ุงููุนูู**: ุงูู HTML ุงูุฐู ุฎุฑุฌ ูู ุงูุณูุฑูุฑ ูุง ูุทุงุจู ูุง ูุจููู React ุนูู ุงููุชุตูุญ ุนูุฏ ุงูู hydration.
- **ุฃูุซุฑ ุงูุฃุณุจุงุจ ุดููุนุงู ูู ุงููุดุฑูุน**:
  - ุงุณุชุฎุฏุงู `localStorage`, `window`, `document` ูุชุญุฏูุฏ ุงูุญุงูุฉ ุงูุฃูููุฉ ุฃุซูุงุก SSRุ ููุคุฏู ูุงุฎุชูุงู ุงููุฎุฑุฌุงุช ุจูู ุงูุณูุฑูุฑ ูุงูุนููู.
  - ุชุนุฏูู `classList` ู`style` ุนูู `html/body` ูุจู ุงูุชูุงู ุงูู hydration (ูุบูุฑ ุงูุจููุฉ/ุงูุตูุงุช ูุชุฎุชูู ุนู HTML SSR).
- **ุฃูุงูู ูุฑุดุญุฉ ูููุดููุฉ**:
```1:78:src/app/layout.tsx
<script dangerouslySetInnerHTML=...> ูุนุชูุฏ ุนูู localStorage ููุนุฏูู documentElement/body ุฏุงุฎู head
```
```21:70:src/contexts/ThemeContext.tsx
useEffect ูููู ุจุนุฏ ุงูุชููุฆุฉ ุจูุฑุงุกุฉ localStorage ูุชุบููุฑ ุตูุงุช html/body ูุญูุธ ููู ุฌุฏูุฏุฉ
```
```15:19:src/app/ClientLayout.tsx
useEffect ูุบููุฑ dir/lang ุนูู documentElement ุจูุงุกู ุนูู ุงููุบุฉ
```
- **ููุงุญุธุฉ**: ุจุงูุฑุบู ูู ุฃู `useEffect` ูุง ูุนูู ุฃุซูุงุก SSRุ ูุฌูุฏ ุณูุฑูุจุช inline ุฏุงุฎู `<head>` ูุฏ ูุณุจู ุจูุงุก `body` ุฃู ูุบููุฑ ุตูุงุช ูุจู ุฃู ูุทุงุจููุง Reactุ ููุชุณุจุจ ุจุนุฏู ุงูุชุทุงุจู.

### 3) Window usage during navigation (ูุฑุงุฌุนุฉ ุณุฑูุนุฉ)
- ููุงูุน ุงุณุชุฎุฏุงู `window`:
```33:36:src/lib/axios.ts
window.location.href = '/login'
```
- ููุณ ุณุจุจ ุงูุฎุทุฃ ุงูุญุงูู ูุจุงุดุฑุฉุ ูููู ุญุณุงุณ ูู SSR ุฅุฐุง ุงุณุชูุฏุนู ุนูู ุงูุณูุฑูุฑ. ูุฌุจ ุงูุชุฃูุฏ ุฃูู ูุง ููุณุชุฏุนู ุฅูุง ุนูู ุงููุชุตูุญ.

---

## ๐ ูุฑุงุฌุนุฉ ุงููููุงุช ุฐุงุช ุงูุตูุฉ ุจุงูุชุจุงูู SSR/CSR

- **`src/app/layout.tsx`**:
  - ูุญูู ุณูุฑูุจุช ุฏุงุฎู `<head>` ููุฑุฃ `localStorage` ููุนุฏูู `document.documentElement` ู`document.body` ูุจูุฑุงู ุฌุฏุงู. ูุฐุง ุงูููุงู ูุทุงุจู ููุฑุณุงูุฉ ุงูุฃููู ุจุงูุถุจุท (classList ุนูู body null) ููุณุงูู ูู ุงูู hydration mismatch.

- **`src/contexts/ThemeContext.tsx`**:
  - ุซูุงุซ ููุงุทู ุชุนุฏูู DOM: ุชุฃุซูุฑ ุชุทุจูู ุงูุณูุงุช ุจุนุฏ ุงูุชููุฆุฉุ ุชุฃุซูุฑ ุฃููู ุนูุฏ mountุ ูุฏุงูุฉ ุดุงููุฉ `applyThemeToAllElements` ุชููู ุจู `querySelectorAll` ูุชุบููุฑ ุฃููุงุท ุนูุงุตุฑ ูุชุนุฏุฏุฉ. ูุฐู ุงูุชุบููุฑุงุช ุงููุงุณุนุฉ ุจุนุฏ SSR ูุฏ ุชุบููุฑ ุณูุงุช ูุนูุงุตุฑ ููุงุฑูุฉู ุจูุง ุฑูุณู ุนูู ุงูุณูุฑูุฑ.
  - ูุนุชูุฏ ุนูู `localStorage` ูุชุญุฏูุฏ ุงูุญุงูุฉ ุงูุฃูููุฉุ ูุง ููููุฏ ุงุฎุชูุงูุงุช ูุฑุฆูุฉ ูุจูุฑุฉ ุจูู SSR ูCSR ุฅุฐุง ุงุฎุชููุช ุงูููู.

- **`src/contexts/LanguageContext.tsx`** ู**`src/app/ClientLayout.tsx`**:
  - ุชุบููุฑุงุช ูุจุงุดุฑุฉ ุนูู `documentElement` (`lang`, `dir`). ุขููุฉ ุนุงุฏุฉ ุฏุงุฎู `useEffect` ููููุง ูุฏ ุชุณุงูู ูู ุงุฎุชูุงู ุงูุณูุงุช ุฅุฐุง ูุงูุช ุนูุงุตุฑ ุชุนุชูุฏ ุนูู `dir/lang` ุฃุซูุงุก SSR.

- **ูููููุงุช ุงูุชููู** (`VisitorNav.tsx`, `AdminNav.tsx`, `ThemeToggle.tsx`):
  - ุขููุฉ ูุณุจูุงูุ ุชุนุชูุฏ ุนูู `useEffect` ุบูุฑ ูุจุงุดุฑุฉ ุนุจุฑ ุงูุณูุงูุงุชุ ููููุง ุชุฑุซ ุขุซุงุฑ ุงูุชุนุฏููุงุช ุนูู DOM.

---

## ๐งญ ููุฎุต ุงูุฃุณุจุงุจ ุงูุฌุฐุฑูุฉ ุงููุญุชููุฉ
- ุชููุฆุฉ ุงูุซูู ูู `<head>` ุชุนุฏูู `document.body` ูุจู ูุฌูุฏูุ ูุง ูุทูู: `document.body is null`.
- ุชุนุฏูู DOM ูุงุณุน ุงููุทุงู ุจุนุฏ SSR (classList, style) ูุบููุฑ ุงูุดุฌุฑุฉ ููุคุฏู ุฅูู Hydration Mismatch.
- ุงูุงุนุชูุงุฏ ุนูู ููู ูุชุบูุฑุฉ ูู `localStorage` ูุชุญุฏูุฏ ุญุงูุฉ ุฃูููุฉ ูุฎุชููุฉ ุนู SSR.

---

## ๐ ุชูุตูุงุช ุชุดุฎูุตูุฉ (ุจุฏูู ุชูููุฐ ุชุบููุฑุงุช ุงูุขู)
1. ุชุฃุฌูู ูู ุชุนุฏููุงุช `document.body` ู`documentElement` ุฅูู ูุฑุญูุฉ ูุง ุจุนุฏ mount ูุจุดูู ูุชุญููุ ูุน ุญุฑุงุณุฉ ุชููุฑ `document` ู`body`.
2. ุฅุฒุงูุฉ/ุงุณุชุจุฏุงู ุงูุณูุฑูุจุช ุฏุงุฎู `<head>` ุฃู ุฌุนูู ูุชุญูู ูู ูุฌูุฏ `document.body` ููุคุฎุฑ ุงูุชุทุจูู ุญุชู `DOMContentLoaded`.
3. ุฌุนู ุงูุญุงูุฉ ุงูุฃูููุฉ ููุซูู ููุญูุฏุฉ ุฃุซูุงุก SSR (ุงูุชุฑุงุถ light) ุซู ุชุทุจูู ุงูุชุญููู ุฅูู dark ุนุจุฑ ุชุฃุซูุฑ ุจุนุฏ mount ูุชุฌููุจ mismatch.
4. ุชูููุต ุงูุชุนุฏููุงุช ุงููุจุงุดุฑุฉ ุนูู `style` ูุนูุงุตุฑ ูุชุนุฏุฏุฉุ ูุงูุงุณุชุนุงุถุฉ ุนููุง ุจููุงุณุงุช Tailwind ุฃู CSS variables ููุท.
5. ุถูุงู ุฃู ุฃู ุงุณุชุฎุฏุงู ูู `window` ู`localStorage` ูุญุงุท ุจุชุญูู ูู ุจูุฆุฉ ุงููุชุตูุญ.

> ุงูุชุธุฑ ุชุนูููุงุชู ูุชูููุฐ ุงูุชุนุฏููุงุช ุงูููุชุฑุญุฉ. ุณุฃููู ูุฑุงุฌุนุฉ ุจููุฉ ุงููููุงุช ุจุงูุชุณูุณู ูุฃุถูู ููุงุญุธุงุช ุชูุตูููุฉ ููู ููู ุนูุฏ ุฑุตุฏ ููุงุท ุญุณุงุณุฉ ูุฑุชุจุทุฉ ุจุงูู SSR/CSR.

---

## ๐[ูุณูุฏุฉ ูููุฒุฉ] ุฎุทุฉ ุฅูุดุงุก ุงููุฏููุฉ ูููุดุฑูุน (ููุฑุฌูุน ูุงุญูุงู)

### ููุงุฐุง ููุดุฆ ูุฏููุฉุ
- ุฒูุงุฏุฉ ุงูุซูุฉ: ุนุฑุถ ุฎุจุฑุชูุง ูุงูุฑุฏ ุนูู ุฃุณุฆูุฉ ุงูุนููุงุก.
- ุฌุฐุจ ุฒูุงุฑุงุช (SEO): ุงุณุชูุฏุงู ูููุงุช ููุชุงุญูุฉ ุชุฌูุจ ุนููุงุก ุฌุฏุฏ.
- ุชุญููู ุงูุฒุงุฆุฑ ูุนููู: ูู ููุงู ููุชูู ุจู CTA ูุงุถุญ ูุทูุจ ุฎุฏูุฉ/ุชูุงุตู.

### ููุงู ุงููุฏููุฉ ูู ุงููุดุฑูุน (Next.js App Router)
- `src/app/(public)/blog` ูุงุฆูุฉ ุงูููุงูุงุช.
- `src/app/(public)/blog/[slug]` ุตูุญุฉ ุงูููุงู.
- ุงุฎุชูุงุฑู: `blog/category/[category]`, `blog/tag/[tag]`.
- ุฑูุงุจุท ูู: ุงูููุฏุฑ `VisitorNav`ุ ุงูููุชุฑุ ุงูููู (ูุณู "ุขุฎุฑ ุงูููุงูุงุช"), ูุตูุญุงุช ุงูุฎุฏูุงุช.

### ูุญุชูู ููุงุณุจ ููุฌุงู ุงูุงุณุชูุฑุงุฏ/ุงูุชุตุฏูุฑ
- ุฅุฑุดุงุฏุงุช ุงูุดุญู ูุงูุฌูุงุฑูุ ุฏุฑุงุณุงุช ุญุงูุฉุ ูุญุต ุงูููุฑุฏููุ ุงูููุงููู ูุงููุตุทูุญุงุช (Incoterms/HS Code)ุ ููุงุฑูุฉ ุชูุงููู ุงูุดุญูุ ุณูุงุณู ุงูุฅูุฏุงุฏ.
- ุฃูุซูุฉ ุนูุงููู:
  - ุงูุฏููู ุงููุงูู ูู Incoterms 2020 ูููุจุชุฏุฆูู
  - ูุณุชูุฏุงุช ุงุณุชูุฑุงุฏ ุดุญูุฉ ูู ุงูุตูู ุฅูู ูุตุฑ
  - ููู ุชูุญุต ุงูููุฑุฏ ูุจู ุงูุชุญููู ูุชุชุฌูุจ ุงูุงุญุชูุงูุ
  - HS Code: ุงุฎุชูุงุฑ ุงูุฑูุฒ ุงูุตุญูุญ ูุชุฌูุจ ุงูุบุฑุงูุงุช
  - ุดุญู ุจุญุฑู vs ุดุญู ุฌูู: ูุชู ุชุฎุชุงุฑ ูู ุฎูุงุฑุ
  - ุฏุฑุงุณุฉ ุญุงูุฉ: ุฎูุถูุง 18% ูู ุชูููุฉ ุดุญูุฉ ููุงุฏ ุฎุงู
  - ุฃุฎุทุงุก ุชุคุฎุฑ ุงูุชุฎููุต ูููู ุชุชูุงุฏุงูุง

### ูุงูุจ ุงูููุงู ูCTA
- ููุฏูุฉ ูุดููุฉ โ ุดุฑุญ ุนููู ูุตููุฑ โ ุฃูุซูุฉ/Checklists โ CTA:
  - ุงุจุฏุฃ ุงูุขู โ `/contact-us` ุฃู `/services/[id]/form`
  - ุชูุงุตู ูุน ุฎุจูุฑ โ `/contact-us`
  - ุฑูุงุจุท ููุงูุงุช ุฐุงุช ุตูุฉ ูุฒูุงุฏุฉ ุงูุชูุงุนู.

### ุฑุญูุฉ ุงููุณุชุฎุฏู
- ูู ุงูููุฏุฑ/ุงูููุชุฑ/ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุฅูู `/blog` โ ููุงู `/blog/[slug]`.
- ูู ุฏุงุฎู ุงูููุงู ุฅูู ุงูุฎุฏูุงุช: `/services`, `/services/[id]/form`, `/contact-us`.

### ุจูุงูุงุช ุงูููุงู ูููููุฉ ุงูุชุฎุฒูู
- ุงูุญููู: `title, slug, excerpt, coverImage, category, tags, readingTime, publishedAt, author`.
- ุชุฎุฒูู ุฃููู: ูููุงุช MDX ุฏุงุฎู `content/blog` (ุณุฑูุน)ุ ุซู ูุงุนุฏุฉ ุจูุงูุงุช ูุงุญูุงู ุฅู ูุฒู.
- SEO: Title/Description ูุฑูุฏุฉุ H1 ูุงุญุฏุ Schema Articleุ ุตูุฑ ุฎูููุฉุ ุฑูุงุจุท ุฏุงุฎููุฉ.

### ูุงุฌูุงุช ุฃุณุงุณูุฉ
- `BlogCard`, `BlogList`, `BlogSidebar`, `PostContent` ูุน ุฏุนู RTL ู`LanguageContext`.

> ูุฐู ูุณูุฏุฉ ุชูููุฐ ูุคุฌูุฉ. ุณูุนูุฏ ููุง ุจุนุฏ ุงูุงูุชูุงุก ูู ุงูุฅุตูุงุญุงุช ุงูุนุงุฌูุฉ.
